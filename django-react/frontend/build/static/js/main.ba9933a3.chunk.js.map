{"version":3,"sources":["components/NavBar/NavBar.js","components/UserPage/LoginPage.js","components/UserPage/SignupPage.js","App.js","reportWebVitals.js","index.js"],"names":["MenuList","styled","div","NavBar","useState","auth","setAuth","useEffect","localStorage","getItem","Item","onClick","fetch","method","headers","Authorization","then","res","json","data","console","log","clear","window","location","replace","to","LoginPage","email","setEmail","password","setPassword","errors","setErrors","loading","setLoading","onSubmit","e","preventDefault","user","body","JSON","stringify","key","setItem","htmlFor","name","type","value","required","onChange","target","SignupPage","password1","setPassword1","password2","setPassword2","App","fallback","className","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kPAKMA,EAAWC,IAAOC,IAAV,mMAoECC,MAzDf,WAEE,MAAwBC,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KAyBA,OAvBAC,qBAAU,WAC8B,OAAlCC,aAAaC,QAAQ,UACvBH,GAAQ,KAET,IAoBD,8BACE,cAACN,EAAD,UACE,eAAC,IAAD,WACIK,EACA,cAAC,IAAKK,KAAN,CAAwBC,QAtBb,WAEpBC,MAAM,iDAAkD,CACtDC,OAAQ,OACRC,QAAS,CACP,eAAgB,mBAChBC,cAAc,SAAD,OAAWP,aAAaC,QAAQ,aAG9CO,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GACJC,QAAQC,IAAIF,GACZX,aAAac,QACbC,OAAOC,SAASC,QAAQ,mCASnB,qCAAe,UAIf,cAAC,IAAKf,KAAN,UACE,cAAC,IAAD,CAAMgB,GAAG,SAAT,iCADa,UAMfrB,EACA,6BAEA,cAAC,IAAKK,KAAN,UACE,cAAC,IAAD,CAAMgB,GAAG,UAAT,uCADa,kBCgBZC,EA3EG,WAChB,MAA0BvB,mBAAS,IAAnC,mBAAOwB,EAAP,KAAcC,EAAd,KACA,EAAgCzB,mBAAS,IAAzC,mBAAO0B,EAAP,KAAiBC,EAAjB,KACA,EAA4B3B,oBAAS,GAArC,mBAAO4B,EAAP,KAAeC,EAAf,KACA,EAA8B7B,oBAAS,GAAvC,mBAAO8B,EAAP,KAAgBC,EAAhB,KAEA5B,qBAAU,WAC8B,OAAlCC,aAAaC,QAAQ,SACvBc,OAAOC,SAASC,QAAQ,mCAExBU,GAAW,KAEZ,IAgCH,OACE,iCACe,IAAZD,GAAqB,wCACV,IAAXF,GAAmB,0EACP,IAAZE,GACC,uBAAME,SAnCK,SAAAC,GACfA,EAAEC,iBAEF,IAAMC,EAAO,CACXX,MAAOA,EACPE,SAAUA,GAGZlB,MAAM,gDAAiD,CACrDC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElB0B,KAAMC,KAAKC,UAAUH,KAEpBvB,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GACAA,EAAKwB,KACPnC,aAAac,QACbd,aAAaoC,QAAQ,QAASzB,EAAKwB,KACnCpB,OAAOC,SAASC,QAAQ,qCAExBI,EAAS,IACTE,EAAY,IACZvB,aAAac,QACbW,GAAU,QAUZ,UACE,uBAAOY,QAAQ,QAAf,4BADF,IACgD,uBAC9C,uBACEC,KAAK,QACLC,KAAK,QACLC,MAAOpB,EACPqB,UAAQ,EACRC,SAAU,SAAAb,GAAC,OAAIR,EAASQ,EAAEc,OAAOH,UAChC,IACH,uBACA,uBAAOH,QAAQ,WAAf,uBAVF,IAU8C,uBAC5C,uBACEC,KAAK,WACLC,KAAK,WACLC,MAAOlB,EACPmB,UAAQ,EACRC,SAAU,SAAAb,GAAC,OAAIN,EAAYM,EAAEc,OAAOH,UACnC,IACH,uBACA,uBAAOD,KAAK,SAASC,MAAM,iBCiBtBI,EArFI,WACjB,MAA0BhD,mBAAS,IAAnC,mBAAOwB,EAAP,KAAcC,EAAd,KACA,EAAkCzB,mBAAS,IAA3C,mBAAOiD,EAAP,KAAkBC,EAAlB,KACA,EAAkClD,mBAAS,IAA3C,mBAAOmD,EAAP,KAAkBC,EAAlB,KACA,EAA4BpD,oBAAS,GAArC,mBAAO4B,EAAP,KAAeC,EAAf,KACA,EAA8B7B,oBAAS,GAAvC,mBAAO8B,EAAP,KAAgBC,EAAhB,KAEA5B,qBAAU,WAC8B,OAAlCC,aAAaC,QAAQ,SACvBc,OAAOC,SAASC,QAAQ,mCAExBU,GAAW,KAEZ,IAkCH,OACE,iCACe,IAAZD,GAAqB,yCACV,IAAXF,GAAmB,yEACpB,uBAAMI,SApCO,SAAAC,GACfA,EAAEC,iBAEF,IAAMC,EAAO,CACXX,MAAOA,EACPyB,UAAWA,EACXE,UAAWA,GAGb3C,MAAM,mDAAoD,CACxDC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElB0B,KAAMC,KAAKC,UAAUH,KAEpBvB,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GACAA,EAAKwB,KACPnC,aAAac,QACbd,aAAaoC,QAAQ,QAASzB,EAAKwB,KACnCpB,OAAOC,SAASC,QAAQ,qCAExBI,EAAS,IACTyB,EAAa,IACbE,EAAa,IACbhD,aAAac,QACbW,GAAU,QASd,UACE,uBAAOY,QAAQ,QAAf,4BADF,IACgD,uBAC9C,uBACEC,KAAK,QACLC,KAAK,QACLC,MAAOpB,EACPsB,SAAU,SAAAb,GAAC,OAAIR,EAASQ,EAAEc,OAAOH,QACjCC,UAAQ,IACP,IACH,uBACA,uBAAOJ,QAAQ,YAAf,uBAVF,IAU+C,uBAC7C,uBACEC,KAAK,YACLC,KAAK,WACLC,MAAOK,EACPH,SAAU,SAAAb,GAAC,OAAIiB,EAAajB,EAAEc,OAAOH,QACrCC,UAAQ,IACP,IACH,uBACA,uBAAOJ,QAAQ,YAAf,+BAnBF,IAmBuD,uBACrD,uBACEC,KAAK,YACLC,KAAK,WACLC,MAAOO,EACPL,SAAU,SAAAb,GAAC,OAAImB,EAAanB,EAAEc,OAAOH,QACrCC,UAAQ,IACP,IACH,uBACA,uBAAOF,KAAK,SAASC,MAAM,kBC5DpBS,MAdf,WACE,OACE,eAAC,WAAD,CAAUC,SAAW,sCAArB,UACE,cAAC,EAAD,IACA,qBAAKC,UAAU,MAAf,SACI,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,SAASC,UAAWnC,IADxC,mBAEE,cAAC,IAAD,CAAOiC,OAAK,EAACC,KAAK,UAAUC,UAAWV,IAFzC,4BCAKW,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBjD,MAAK,YAAkD,IAA/CkD,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,cAAC,EAAD,QAGJC,SAASC,eAAe,SAM1BZ,K","file":"static/js/main.ba9933a3.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Menu, Button } from 'antd';\r\nimport styled from 'styled-components';\r\nimport {BrowserRouter as Link } from 'react-router-dom';\r\n\r\nconst MenuList = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  .ant-menu {\r\n    display: flex;\r\n    justify-content: flex-end;\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nfunction NavBar() {\r\n\r\n  const [auth, setAuth] = useState('')\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem('token') !== null) {\r\n      setAuth(true);\r\n    }\r\n  }, [])\r\n\r\n  const handleLogout = () => {\r\n\r\n   fetch('http://127.0.0.1:8000/api/v1/mall/auth/logout/', {\r\n     method: 'POST',\r\n     headers: {\r\n       'Content-Type': 'application/json',\r\n       Authorization: `Token ${localStorage.getItem('token')}`\r\n     }\r\n   })\r\n     .then(res => res.json())\r\n     .then(data => {\r\n       console.log(data);\r\n       localStorage.clear();\r\n       window.location.replace('http://localhost:3000/login');\r\n     });\r\n  };\r\n\r\n  return(\r\n    <div>\r\n      <MenuList>\r\n        <Menu>\r\n          { auth ?\r\n            <Menu.Item key=\"logout\" onClick={handleLogout}>\r\n              로그아웃\r\n            </Menu.Item>\r\n            :\r\n            <Menu.Item key=\"signin\">\r\n              <Link to=\"/login\">\r\n              로그인\r\n              </Link>\r\n            </Menu.Item>\r\n          }\r\n          { auth ?\r\n            <></>\r\n          :\r\n            <Menu.Item key=\"signup\">\r\n              <Link to=\"/signup\">\r\n              회원가입\r\n              </Link>\r\n            </Menu.Item>\r\n          }\r\n        </Menu>\r\n      </MenuList>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NavBar;","import React, { useState, useEffect } from 'react';\r\n\r\nconst LoginPage = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [errors, setErrors] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem('token') !== null) {\r\n      window.location.replace('http://localhost:3000/dashboard');\r\n    } else {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    const user = {\r\n      email: email,\r\n      password: password\r\n    };\r\n\r\n    fetch('http://127.0.0.1:8000/api/v1/mall/auth/login/', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(user)\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if (data.key) {\r\n          localStorage.clear();\r\n          localStorage.setItem('token', data.key);\r\n          window.location.replace('http://localhost:3000/dashboard');\r\n        } else {\r\n          setEmail('');\r\n          setPassword('');\r\n          localStorage.clear();\r\n          setErrors(true);\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {loading === false && <h1>Login</h1>}\r\n      {errors === true && <h2>Cannot log in with provided credentials</h2>}\r\n      {loading === false && (\r\n        <form onSubmit={onSubmit}>\r\n          <label htmlFor='email'>Email address:</label> <br />\r\n          <input\r\n            name='email'\r\n            type='email'\r\n            value={email}\r\n            required\r\n            onChange={e => setEmail(e.target.value)}\r\n          />{' '}\r\n          <br />\r\n          <label htmlFor='password'>Password:</label> <br />\r\n          <input\r\n            name='password'\r\n            type='password'\r\n            value={password}\r\n            required\r\n            onChange={e => setPassword(e.target.value)}\r\n          />{' '}\r\n          <br />\r\n          <input type='submit' value='Login' />\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginPage;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nconst SignupPage = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password1, setPassword1] = useState('');\r\n  const [password2, setPassword2] = useState('');\r\n  const [errors, setErrors] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem('token') !== null) {\r\n      window.location.replace('http://localhost:3000/dashboard');\r\n    } else {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    const user = {\r\n      email: email,\r\n      password1: password1,\r\n      password2: password2\r\n    };\r\n\r\n    fetch('http://127.0.0.1:8000/api/v1/mall/auth/register/', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(user)\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        if (data.key) {\r\n          localStorage.clear();\r\n          localStorage.setItem('token', data.key);\r\n          window.location.replace('http://localhost:3000/dashboard');\r\n        } else {\r\n          setEmail('');\r\n          setPassword1('');\r\n          setPassword2('');\r\n          localStorage.clear();\r\n          setErrors(true);\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {loading === false && <h1>Signup</h1>}\r\n      {errors === true && <h2>Cannot signup with provided credentials</h2>}\r\n      <form onSubmit={onSubmit}>\r\n        <label htmlFor='email'>Email address:</label> <br />\r\n        <input\r\n          name='email'\r\n          type='email'\r\n          value={email}\r\n          onChange={e => setEmail(e.target.value)}\r\n          required\r\n        />{' '}\r\n        <br />\r\n        <label htmlFor='password1'>Password:</label> <br />\r\n        <input\r\n          name='password1'\r\n          type='password'\r\n          value={password1}\r\n          onChange={e => setPassword1(e.target.value)}\r\n          required\r\n        />{' '}\r\n        <br />\r\n        <label htmlFor='password2'>Confirm password:</label> <br />\r\n        <input\r\n          name='password2'\r\n          type='password'\r\n          value={password2}\r\n          onChange={e => setPassword2(e.target.value)}\r\n          required\r\n        />{' '}\r\n        <br />\r\n        <input type='submit' value='Signup' />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignupPage;","import {BrowserRouter as Route, Switch} from 'react-router-dom';\nimport React, {Suspense} from 'react';\nimport './App.css';\nimport NavBar from './components/NavBar/NavBar';\t// 추가\nimport LoginPage from './components/UserPage/LoginPage';\t// 추가\nimport SignupPage from './components/UserPage/SignupPage';\t// 추가\n\nfunction App() {\n  return (\n    <Suspense fallback={(<div>...</div>)}>\n      <NavBar />\n      <div className=\"App\">\n          <Switch>\n            <Route exact path=\"/login\" component={LoginPage}></Route>\t// 추가\n            <Route exact path=\"/signup\" component={SignupPage}></Route>\t// 추가\n          </Switch>\n        </div>\n    </Suspense>\n    );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App /> \n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}